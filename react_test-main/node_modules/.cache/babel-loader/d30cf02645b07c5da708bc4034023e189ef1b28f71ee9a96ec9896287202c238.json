{"ast":null,"code":"import React,{useState}from'react';import Question from'./Question';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const Test=_ref=>{let{selectedQuestions}=_ref;const[currentPage,setCurrentPage]=useState(0);const[answers,setAnswers]=useState({});const[correctAnswersCount,setCorrectAnswersCount]=useState(0);const[testCompleted,setTestCompleted]=useState(false);const handleAnswerSelect=answerIndex=>{setAnswers(prevAnswers=>({...prevAnswers,[currentPage]:answerIndex}));};const handleNextPage=()=>{if(currentPage<selectedQuestions.length-1){setCurrentPage(currentPage+1);}else{const correctCount=Object.keys(answers).reduce((acc,index)=>{const questionIndex=parseInt(index);const isCorrect=selectedQuestions[questionIndex].answers[answers[index]].isCorrect;return isCorrect?acc+1:acc;},0);setCorrectAnswersCount(correctCount);setTestCompleted(true);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Question \",currentPage+1]}),/*#__PURE__*/_jsx(Question,{question:selectedQuestions[currentPage].question,answers:selectedQuestions[currentPage].answers,onAnswerSelect:handleAnswerSelect}),currentPage<selectedQuestions.length-1&&/*#__PURE__*/_jsx(\"button\",{onClick:handleNextPage,children:\"Next question\"}),currentPage===selectedQuestions.length-1&&!testCompleted&&/*#__PURE__*/_jsx(\"button\",{onClick:handleNextPage,children:\"Finish test\"}),testCompleted&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Right answers: \",correctAnswersCount,\" out of \",selectedQuestions.length]})]});};export default Test;","map":{"version":3,"names":["React","useState","Question","jsxs","_jsxs","jsx","_jsx","Test","_ref","selectedQuestions","currentPage","setCurrentPage","answers","setAnswers","correctAnswersCount","setCorrectAnswersCount","testCompleted","setTestCompleted","handleAnswerSelect","answerIndex","prevAnswers","handleNextPage","length","correctCount","Object","keys","reduce","acc","index","questionIndex","parseInt","isCorrect","children","question","onAnswerSelect","onClick"],"sources":["C:/Users/Stepan/Documents/LAbs/Web/Lab_3/react_test-main/src/Test.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Question from './Question';\n\nconst Test = ({ selectedQuestions }) => {\n  const [currentPage, setCurrentPage] = useState(0);\n  const [answers, setAnswers] = useState({});\n  const [correctAnswersCount, setCorrectAnswersCount] = useState(0);\n  const [testCompleted, setTestCompleted] = useState(false); \n\n  const handleAnswerSelect = (answerIndex) => {\n    setAnswers(prevAnswers => ({\n      ...prevAnswers,\n      [currentPage]: answerIndex,\n    }));\n  };\n\n  const handleNextPage = () => {\n    if (currentPage < selectedQuestions.length - 1) {\n      setCurrentPage(currentPage + 1);\n    } else {\n      const correctCount = Object.keys(answers).reduce((acc, index) => {\n        const questionIndex = parseInt(index);\n        const isCorrect = selectedQuestions[questionIndex].answers[answers[index]].isCorrect;\n        return isCorrect ? acc + 1 : acc;\n      }, 0);\n      setCorrectAnswersCount(correctCount);\n      setTestCompleted(true); \n    }\n  };\n\n  return (\n    <div>\n      <h2>Question {currentPage + 1}</h2>\n      <Question\n        question={selectedQuestions[currentPage].question}\n        answers={selectedQuestions[currentPage].answers}\n        onAnswerSelect={handleAnswerSelect}\n      />\n      {currentPage < selectedQuestions.length - 1 && (\n        <button onClick={handleNextPage}>Next question</button>\n      )}\n      {}\n      {currentPage === selectedQuestions.length - 1 && !testCompleted && (\n        <button onClick={handleNextPage}>Finish test</button>\n      )}\n      {}\n      {testCompleted && (\n        <p>Right answers: {correctAnswersCount} out of {selectedQuestions.length}</p>\n      )}\n    </div>\n  );\n};\n\nexport default Test;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAElC,KAAM,CAAAC,IAAI,CAAGC,IAAA,EAA2B,IAA1B,CAAEC,iBAAkB,CAAC,CAAAD,IAAA,CACjC,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGV,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC1C,KAAM,CAACa,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CACjE,KAAM,CAACe,aAAa,CAAEC,gBAAgB,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAEzD,KAAM,CAAAiB,kBAAkB,CAAIC,WAAW,EAAK,CAC1CN,UAAU,CAACO,WAAW,GAAK,CACzB,GAAGA,WAAW,CACd,CAACV,WAAW,EAAGS,WACjB,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAE,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAIX,WAAW,CAAGD,iBAAiB,CAACa,MAAM,CAAG,CAAC,CAAE,CAC9CX,cAAc,CAACD,WAAW,CAAG,CAAC,CAAC,CACjC,CAAC,IAAM,CACL,KAAM,CAAAa,YAAY,CAAGC,MAAM,CAACC,IAAI,CAACb,OAAO,CAAC,CAACc,MAAM,CAAC,CAACC,GAAG,CAAEC,KAAK,GAAK,CAC/D,KAAM,CAAAC,aAAa,CAAGC,QAAQ,CAACF,KAAK,CAAC,CACrC,KAAM,CAAAG,SAAS,CAAGtB,iBAAiB,CAACoB,aAAa,CAAC,CAACjB,OAAO,CAACA,OAAO,CAACgB,KAAK,CAAC,CAAC,CAACG,SAAS,CACpF,MAAO,CAAAA,SAAS,CAAGJ,GAAG,CAAG,CAAC,CAAGA,GAAG,CAClC,CAAC,CAAE,CAAC,CAAC,CACLZ,sBAAsB,CAACQ,YAAY,CAAC,CACpCN,gBAAgB,CAAC,IAAI,CAAC,CACxB,CACF,CAAC,CAED,mBACEb,KAAA,QAAA4B,QAAA,eACE5B,KAAA,OAAA4B,QAAA,EAAI,WAAS,CAACtB,WAAW,CAAG,CAAC,EAAK,CAAC,cACnCJ,IAAA,CAACJ,QAAQ,EACP+B,QAAQ,CAAExB,iBAAiB,CAACC,WAAW,CAAC,CAACuB,QAAS,CAClDrB,OAAO,CAAEH,iBAAiB,CAACC,WAAW,CAAC,CAACE,OAAQ,CAChDsB,cAAc,CAAEhB,kBAAmB,CACpC,CAAC,CACDR,WAAW,CAAGD,iBAAiB,CAACa,MAAM,CAAG,CAAC,eACzChB,IAAA,WAAQ6B,OAAO,CAAEd,cAAe,CAAAW,QAAA,CAAC,eAAa,CAAQ,CACvD,CAEAtB,WAAW,GAAKD,iBAAiB,CAACa,MAAM,CAAG,CAAC,EAAI,CAACN,aAAa,eAC7DV,IAAA,WAAQ6B,OAAO,CAAEd,cAAe,CAAAW,QAAA,CAAC,aAAW,CAAQ,CACrD,CAEAhB,aAAa,eACZZ,KAAA,MAAA4B,QAAA,EAAG,iBAAe,CAAClB,mBAAmB,CAAC,UAAQ,CAACL,iBAAiB,CAACa,MAAM,EAAI,CAC7E,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAf,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}